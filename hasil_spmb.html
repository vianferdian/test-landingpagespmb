<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pengumuman Hasil SPMB 2026 | SMK Negeri 1 Cirebon</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Poppins',sans-serif;
}

body{
    background:#f4f7fb;
}

/* HERO */

.hero{
    height:70vh;
    background:linear-gradient(135deg,#1a3a6c,#2c5aa0);
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    color:white;
    padding:20px;
}

.hero h1{
    font-size:42px;
    margin-bottom:10px;
}

.hero p{
    opacity:.9;
}

/* CARD */

.card{
    background:white;
    max-width:800px;
    margin:-80px auto 40px;
    padding:40px;
    border-radius:14px;
    box-shadow:0 10px 40px rgba(0,0,0,.08);
}

/* INPUT */

.search-box{
    display:flex;
    gap:10px;
    margin-top:20px;
}

input{
    flex:1;
    height:55px;
    border-radius:10px;
    border:1px solid #ddd;
    padding:0 15px;
    font-size:18px;
}

button{
    background:#e65c00;
    border:none;
    color:white;
    padding:0 30px;
    border-radius:10px;
    font-size:18px;
    cursor:pointer;
    transition:.3s;
}

button:hover{
    background:#cc4f00;
    transform:translateY(-2px);
}

/* RESULT */

.result{
    margin-top:30px;
    animation:fade .4s ease;
}

@keyframes fade{
    from{opacity:0; transform:translateY(10px);}
    to{opacity:1;}
}

.success{
    border-top:6px solid #28a745;
}

.fail{
    border-top:6px solid #dc3545;
}

.box{
    padding:30px;
    border-radius:12px;
    background:white;
    box-shadow:0 8px 25px rgba(0,0,0,.06);
}

h2{
    margin-bottom:10px;
}

ol{
    margin-left:20px;
    line-height:1.9;
}

/* MOBILE */

@media(max-width:700px){

.hero h1{
    font-size:28px;
}

.card{
    margin:-60px 15px 30px;
    padding:25px;
}

.search-box{
    flex-direction:column;
}

button{
    height:50px;
}

}

</style>
</head>

<body>

<!-- HERO -->

<section class="hero">
<div>
<h1>PENGUMUMAN HASIL SPMB 2026</h1>
<p>SMK Negeri 1 Cirebon</p>
</div>
</section>

<!-- CARD -->

<div class="card">

<h2>Cek Hasil Seleksi</h2>
<p>Masukkan nomor pendaftaran Anda untuk melihat hasil kelulusan.</p>

<div class="search-box">
<input 
type="text" 
id="searchInput"
placeholder="Masukkan Nomor Pendaftaran..."
onkeypress="if(event.key==='Enter')searchData()"
>

<button onclick="searchData()">Cek Hasil</button>
</div>

<div id="resultBox" class="result"></div>

</div>

<script>

const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQjxc3-Df3kU19LyONmTY7K8RMpb_riUr4qKRRTXeLWA45uZzouYmj7aVdaaP5LhWxqBC6yI3GwKWjV/pub?output=csv";

let sheetData = [];

fetch(sheetURL)
.then(res=>res.text())
.then(csv=>{

const rows = csv.split("\n").slice(1);

sheetData = rows.map(row=>{

const cols = row.split(",");

return{
registration_number: cols[0]?.replace(/"/g,'').trim(),
student_name: cols[1]?.replace(/"/g,'').trim(),
major: cols[2]?.replace(/"/g,'').trim(),
registration_path: cols[3]?.replace(/"/g,'').trim(),
status: cols[4]?.replace(/"/g,'').trim(),
registration_schedule: cols[5]?.replace(/"/g,'').trim(),
school_name: cols[6]?.replace(/"/g,'').trim(),
}

});

});


function searchData(){

const input = document
.getElementById("searchInput")
.value
.trim();

const resultBox = document.getElementById("resultBox");

if(!input){
resultBox.innerHTML=`
<div class="box fail">
<h3>Masukkan nomor pendaftaran terlebih dahulu.</h3>
</div>`;
return;
}

const student = sheetData.find(
s=>s.registration_number===input
);

if(!student){

resultBox.innerHTML=`
<div class="box fail">
<h3>Data tidak ditemukan</h3>
<p>Periksa kembali nomor pendaftaran Anda.</p>
</div>
`;

return;
}

const isAccepted = student.status
.toLowerCase()
.includes("diterima") || 
student.status
.toLowerCase()
.includes("lulus");

if(isAccepted){

resultBox.innerHTML=`

<div class="box success">

<h2>üéâ SELAMAT!</h2>

<h3>${student.student_name}</h3>

<p><b>Dinyatakan ${student.status.toUpperCase()}</b><br>
di <b>${student.school_name}</b></p>

<p>
<b>${student.major}</b><br>
${student.registration_path}
</p>

<hr style="margin:20px 0;">

<p><b>Nomor Pendaftaran:</b><br>
${student.registration_number}</p>

<p style="margin-top:10px;">
<b>üóìÔ∏è Jadwal Daftar Ulang:</b><br>
${student.registration_schedule}
</p>

<hr style="margin:20px 0;">

<h3>üìå Persyaratan yang dibawa:</h3>

<ol>
<li>Print hasil diterima SPMB</li>
<li>Membawa Materai 10Rb sebanyak 3 Lembar</li>
<li>Membawa map berwarna kuning</li>
<li>FC Persyaratan umum dan khusus</li>
<li>Surat Keterangan Sehat (Asli)</li>
<li>SPTJM asli bermaterai</li>
<li>Memakai seragam sekolah asal dan bersepatu</li>
<li>Membawa alat tulis</li>
</ol>

</div>

`;

}else{

resultBox.innerHTML=`

<div class="box fail">

<h2>Mohon Maaf</h2>

<h3>${student.student_name}</h3>

<p>Anda belum dinyatakan diterima di <b>${student.school_name}</b>.</p>

<p>Tetap semangat dan jangan menyerah.  
Kesempatan sukses masih sangat luas!</p>

</div>

`;

}

}

</script>

</body>
</html>
